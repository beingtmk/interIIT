{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>

  <style>
    .horizontal { display: inline; background-color: lightgray; }
  </style>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie-edge">

  <link rel="icon" type="image/png" sizes="32x32" href="{% static 'social.png' %}">
  <title>Inter IIT Sports Meet 2018</title>
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-126665070-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-126665070-1');
  </script>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>

  <link rel="stylesheet" type="text/css" href="{% static 'Schedule/bootstrap/css/bootstrap.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'Schedule/bootstrap/css/bootstrap.min.css' %}">
  <script src="{% static 'Schedule/bootstrap/js/bootstrap.js' %}"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
  <link rel="stylesheet" type="text/css" href="{% static 'Schedule/css/font-awesome.min.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'Schedule/css/animate.min.css' %}">

  <link rel="stylesheet" type="text/css" href="{% static 'Schedule/css/chosen.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'Schedule/css/prism.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'Schedule/css/commonToAll.css' %}">

  <!-- Meta Tags -->
  <meta name="description" content="Inter IIT Sports Meet is the annual sports tournament of the Indian Institutes of Technology. This time hosted by IIT Guwahati." />

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Inter IIT Sports Meet 2018"><meta name="twitter:description" content="Inter IIT Sports Meet is the annual sports tournament of the Indian Institutes of Technology. This time hosted by IIT Guwahati."><meta name="twitter:image:src" content="https://interiit.com/static/logob.png">

  <!-- Open Graph data -->
  <meta property="og:title" content="Inter IIT Sports Meet 2018" /><meta property="og:type" content="website" /><meta property="og:url" content="https://interiit.com" /><meta property="og:image" content="https://interiit.com/static/logob.png" /><meta property="og:description" content="Inter IIT Sports Meet is the annual sports tournament of the Indian Institutes of Technology. This time hosted by IIT Guwahati." />

  <!-- Structured Data Schema.org -->
  <script type="application/ld+json">{"@context": "http://schema.org","@type": "Event","url": "https://interiit.com","name": "Inter IIT Sports Meet 2018","image": ["https://interiit.com/static/Schedule/img/logob.jpg"],"location": {"@type":"Place","name":"IIT Guwahati","geo":"26.1969225,91.6787324","address":"IIT Guwahati, Guwahati, Assam, India - 781039"},"startDate":"2018-12-05T15:32:33+05:30","endDate":"2018-12-25T15:32:33+05:30","description":"Inter IIT Sports Meet is the annual sports tournament of the Indian Institutes of Technology. This time hosted by IIT Guwahati."}</script>


  {% block title %}

  {% endblock %}

</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light">
   <a class="navbar-brand nav-item" href="{% url 'homepage' %}"><img src="{% static 'Schedule/img/logo.png' %}" class="logo"></a>
   <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
     <span class="navbar-toggler-icon blue">
     </span>
   </button>
   <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav ml-auto navbar-left">
     <li class="nav-item">
      <a class="nav-link" href="{% url 'index' %}">Schedule &amp; Results</a>
    </li>

    <li class="nav-item ">
     <a class="nav-link" href="{% url 'search' %}">Athletes</a>
   </li>

   <li class="nav-item ">
    <a class="nav-link" href="{% url 'gallery' %}">Gallery</a>
  </li>

  <li class="dropdown nav-item">
   <button class="btn btn-info dropdown-toggle dropdown-toggle-split" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
     Info
   </button>
   <ul class="dropdown-menu">
    <li>
      <a class='nav-link' href="{% url 'about' %}">IITG</a>
    </li>
    <li>
      <a class='nav-link' href="{% url 'reaching' %}">Getting There</a>
    </li>
    <li>
      <a class='nav-link' href="{% url 'interiit' %}">Inter IIT</a>
    </li>
    <li>
      <a class='nav-link' href="{% url 'places' %}">Tourist Attraction</a>
    </li>
    <li>
      <a class='nav-link' href="{% url 'map' %}">IITG Map</a>
    </li>
  </ul>
</li>

{% if request.user.is_authenticated %}
<li class="dropdown nav-item">
  <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> Tools <span class="caret"></span></a>
  <ul class="dropdown-menu">
    <li role="separator" class="divider"></li>
    <li><a class="nav-link" href="{% url 'player_list_staff' 'athletics' %}">Approval Portal</a></li>

    {% if request.user.is_staff %}
    <li role="separator" class="divider"></li>
    <li><a class="nav-link" href="{% url 'staff_register' %}">Staff Account Registration</a></li>
    <li role="separator" class="divider"></li>
    <li><a class="nav-link" href="{% url 'playerfilter' %}">Player Filter</a></li>
    <li role="separator" class="divider"></li>
    <li><a class="nav-link" href="{% url 'playerlist' %}">Player List</a></li>
    <li role="separator" class="divider"></li>
    <li><a class="nav-link" href="{% url 'stafflist' %}">Staff List</a></li>
    {% endif %}

  </ul>
</li>

<li class="nav-item ">
 <a class="nav-link" href="{% url 'logout' %}"><span class="glyphicon glyphicon-log-out"></span>Logout</a>
</li>
{% else %}
<li class="nav-item " active>
 <a class="nav-link" href="{% url 'login' %}">Login</a>
</li>
{% endif %}

</ul>
</div>
</nav>

{% block content %}

{% endblock %}

{% block footer %}
{% include "Schedule/_footer.html" %}
{% endblock %}
<script src="{% static 'Schedule/js/chosen.jquery.min.js' %}"></script>
<script src="{% static 'Schedule/js/prism.min.js' %}"></script>
<script>
  var csrf_token = '{{ csrf_token }}';
  $(document).ready(function() {
      // used to make first tab active
      $('ul.active-tab-date li:first-child').addClass('active');
      // used to make first tab content active
      $('div.active-tab-content div:first-child').addClass('fade in active');
      // remove event details, modify details if table is empty
      var empty_table = $('table.event-entries:not(:has(*))');
      empty_table.prevAll('hr').first().remove();
      empty_table.prevAll('div.event-details').first().remove();
      empty_table.nextAll('div.event-modify').first().remove();
      empty_table.nextAll('hr').first().remove();
      empty_table.remove();
      // Team filter in matches page
      $('#team-filter').change(function(e) {
        var college = $(this).find('option:selected').attr('data-id');
        if(college == "unfiltered") { $('.active-tab-content .iit, .active-tab-content hr, .active-tab-content, .event-details, .active-tab-content .event-modify').show();
      } else {
          // show college for single player games
          $('.'+college).show().each(function(e, v) {
            $(v).parents('table.event-entries').prevAll('hr').first().show().prevAll('.event-details').first().show().nextAll('div.event-modify').first().show().nextAll('hr').first().show();
          });
          // show college for team games
          $('.'+college).show().each(function(e, v) {
            $(v).prevAll('hr').first().show().prevAll('.event-details').first().show().nextAll('div.event-modify').first().show().nextAll('hr').first().show();
          });
          $('.iit').not('.'+college).hide();
          // for single player games
          $('.iit').not('.'+college).parents('table.event-entries').each(function(e, v) {
            var count = $(v).find('tr:visible').length;
            if(count == 0) $(v).prevAll('hr').first().hide().prevAll('.event-details').first().hide().nextAll('div.event-modify').first().hide().nextAll('hr').first().hide();
          });
          // for team games
          $('.iit').not('.'+college).each(function(e, v) {
            $(v).prevAll('hr').first().hide().prevAll('.event-details').first().hide().nextAll('div.event-modify').first().hide().nextAll('hr').first().hide();
          });
        }
      });
      // Player search in approval page
      $('#player-search').on('input', function(e) {
        var input = $(this).val();
        print(input)
        $('.player-name').each(function(index, value) {
          if($(this).text().toLowerCase().indexOf(input) == -1) {
            $(this).parents('.player').hide();
          } else {
            $(this).parents('.player').show();
          }
        });
      });
    });
  </script>
</body>
</html>
